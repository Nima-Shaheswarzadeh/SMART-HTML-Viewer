<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>HTML viewer +</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* --- Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Nima.Sh --- */
    :root {
      --bg-color: #121212;
      --text-color: #fff;
      --input-bg: #1e1e1e;
      --border-color: #444;
      --button-bg: #00c896;
      --button-hover: #00a87a;
      --iframe-bg: #fff;
    }
    body.light {
      --bg-color: #f5f5f5;
      --text-color: #222;
      --input-bg: #fff;
      --border-color: #ccc;
      --button-bg: #007acc;
      --button-hover: #005fa3;
      --iframe-bg: #fff;
    }
    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', sans-serif;
      padding: 30px;
      transition: background 0.3s, color 0.3s;
      animation: fadeIn 1s ease;
    }
    @keyframes fadeIn {from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
    h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2.2em;
      background: linear-gradient(90deg, #00ffd5, #00c896, #00ffd5);
      background-size: 200% auto;
      color: transparent;
      background-clip: text;
      -webkit-background-clip: text;
      animation: gradientMove 4s ease infinite;
    }
    @keyframes gradientMove {0%{background-position:0% center;}50%{background-position:100% center;}100%{background-position:0% center;}}
    .editor {display:flex;flex-direction:column;gap:15px;max-width:900px;margin:auto;}
    textarea {background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color);padding:15px;font-family:monospace;font-size:14px;border-radius:8px;resize:vertical;height:200px;transition:box-shadow 0.3s;}
    textarea:focus {box-shadow:0 0 10px var(--button-bg);}
    .buttons {display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:10px;}
    .preview-btn {background:linear-gradient(135deg,var(--button-bg),var(--button-hover));border:none;padding:10px 20px;color:#fff;font-weight:bold;border-radius:6px;cursor:pointer;transition:all 0.4s ease;box-shadow:0 0 0 transparent;}
    .preview-btn:hover {transform:scale(1.05);box-shadow:0 0 15px var(--button-bg);filter:brightness(1.1);}
    .device-buttons {display:flex;gap:10px;}
    .device-buttons button {background:var(--input-bg);border:none;padding:12px;border-radius:8px;color:var(--text-color);cursor:pointer;font-size:20px;transition:transform 0.3s,box-shadow 0.3s;}
    .device-buttons button:hover {transform:scale(1.2) rotate(-5deg);box-shadow:0 0 10px var(--button-bg);}
    .resize-controls {display:flex;align-items:center;gap:10px;margin-top:10px;}
    .resize-controls input {width:80px;padding:5px;border-radius:6px;border:1px solid var(--border-color);background:var(--input-bg);color:var(--text-color);text-align:center;}
    iframe {width:100%;border:1px solid var(--border-color);border-radius:8px;background:var(--iframe-bg);margin-top:20px;resize:vertical;overflow:auto;transition:height 0.5s ease, transform 0.3s ease;}
    iframe.show {animation:popIn 0.6s ease;}
    @keyframes popIn {from{transform:scale(0.9);opacity:0;}to{transform:scale(1);opacity:1;}}
    .theme-toggle,.language-toggle {text-align:center;margin-bottom:20px;}
    select {padding:8px;border-radius:6px;border:1px solid var(--border-color);background:var(--input-bg);color:var(--text-color);}
    footer {text-align:center;margin-top:30px;font-size:14px;opacity:0.7;}
  </style>
</head>
<body class="dark">
  <div class="theme-toggle">
    <button class="preview-btn" onclick="toggleTheme()">ğŸŒ“ ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø±ÙˆØ´Ù†/ØªÛŒØ±Ù‡</button>
  </div>

  <div class="language-toggle">
    <label for="languageSelect">ğŸŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù†:</label>
    <select id="languageSelect" onchange="changeLanguage()">
      <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
      <option value="en">English</option>
      <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="fr">FranÃ§ais</option>
      <option value="es">EspaÃ±ol</option>
      <option value="zh">ä¸­æ–‡</option>
      <option value="de">Deutsch</option>
    </select>
  </div>

  <h1 id="title">HTML viewer +</h1>
  <div class="editor">
    <textarea id="htmlInput" placeholder="Ú©Ø¯ HTML Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
    <div class="buttons">
      <button class="preview-btn" onclick="renderHTML()" id="runBtn">Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯</button>
      <div class="device-buttons">
        <button onclick="openPreview('laptop')" title="Ù„Ù¾â€ŒØªØ§Ù¾"><i class="fas fa-laptop"></i></button>
        <button onclick="openPreview('tablet')" title="ØªØ¨Ù„Øª"><i class="fas fa-tablet-alt"></i></button>
        <button onclick="openPreview('mobile')" title="Ù…ÙˆØ¨Ø§ÛŒÙ„"><i class="fas fa-mobile-alt"></i></button>
      </div>
    </div>
    <div class="resize-controls">
      <label for="heightInput" id="heightLabel">Ø§Ø±ØªÙØ§Ø¹ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ (px):</label>
      <input type="number" id="heightInput" value="300" onchange="resizeIframe()">
    </div>
    <iframe id="preview" style="height: 300px;" class="show"></iframe>
    <div class="buttons" style="margin-top: 10px;">
      <button class="preview-btn" onclick="downloadFile('html')" id="downloadHtmlBtn">Ø¯Ø§Ù†Ù„ÙˆØ¯ HTML</button>
      <button class="preview-btn" onclick="downloadFile('txt')" id="downloadTxtBtn">Ø¯Ø§Ù†Ù„ÙˆØ¯ TXT</button>
    </div>
  </div>

  <footer>Â© 2025 Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· <strong>Nima.Sh</strong> ğŸš€</footer>

  <script>
    const translations = {
      fa:{title:"HTML viewer +",runBtn:"Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯",heightLabel:"Ø§Ø±ØªÙØ§Ø¹ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ (px):",downloadHtmlBtn:"Ø¯Ø§Ù†Ù„ÙˆØ¯ HTML",downloadTxtBtn:"Ø¯Ø§Ù†Ù„ÙˆØ¯ TXT"},
      en:{title:"HTML viewer +",runBtn:"Run Code",heightLabel:"Preview Height (px):",downloadHtmlBtn:"Download HTML",downloadTxtBtn:"Download TXT"},
      ar:{title:"HTML viewer +",runBtn:"ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯",heightLabel:"Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© (Ø¨ÙƒØ³Ù„):",downloadHtmlBtn:"ØªØ­Ù…ÙŠÙ„ HTML",downloadTxtBtn:"ØªØ­Ù…ÙŠÙ„ TXT"},
      fr:{title:"HTML viewer +",runBtn:"ExÃ©cuter le code",heightLabel:"Hauteur de lâ€™aperÃ§u (px):",downloadHtmlBtn:"TÃ©lÃ©charger HTML",downloadTxtBtn:"TÃ©lÃ©charger TXT"},
      es:{title:"HTML viewer +",runBtn:"Ejecutar cÃ³digo",heightLabel:"Altura de vista previa (px):",downloadHtmlBtn:"Descargar HTML",downloadTxtBtn:"Descargar TXT"},
      zh:{title:"HTML viewer +",runBtn:"è¿è¡Œä»£ç ",heightLabel:"é¢„è§ˆé«˜åº¦ (px):",downloadHtmlBtn:"ä¸‹è½½ HTML",downloadTxtBtn:"ä¸‹è½½ TXT"},
      de:{title:"HTML viewer +",runBtn:"Code ausfÃ¼hren",heightLabel:"VorschauhÃ¶he (px):",downloadHtmlBtn:"HTML herunterladen",downloadTxtBtn:"TXT herunterladen"}
    };

    function renderHTML(){
      const code=document.getElementById("htmlInput").value;
      const iframe=document.getElementById("preview").contentWindow.document;
      iframe.open();iframe.write(code);iframe.close();
    }
    function toggleTheme(){document.body.classList.toggle("light");}
    function changeLanguage(){
      const lang=document.getElementById("languageSelect").value;
      const t=translations[lang];
      document.getElementById("title").innerText=t.title;
      document.getElementById("runBtn").innerText=t.runBtn;
      document.getElementById("heightLabel").innerText=t.heightLabel;
      document.getElementById("downloadHtmlBtn").innerText=t.downloadHtmlBtn;
      document.getElementById("downloadTxtBtn").innerText=t.downloadTxtBtn;
    }

    function openPreview(device){
      const iframe=document.getElementById("preview");
      let width=0,height=0;
      if(device==="laptop"){width=1366;height=768;iframe.style.width="100%";}
      if(device==="tablet"){width=768;height=1024;iframe.style.width="768px";}
      if(device==="mobile"){width=375;height=667;iframe.style.width="375px";}
      
      // ØªØºÛŒÛŒØ± Ø¯Ø±ÙˆÙ† ØµÙØ­Ù‡
      iframe.classList.remove("show");
      void iframe.offsetWidth; // Ø±ÛŒØ³Øª Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
      iframe.classList.add("show");

      // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¬Ø¯ÛŒØ¯
      const code=document.getElementById("htmlInput").value;
      const newWindow=window.open("","previewWindow",`width=${width},height=${height},resizable=yes,scrollbars=yes`);
      newWindow.document.open();
      newWindow.document.write(code);
      newWindow.document.close();
    }

    function resizeIframe(){
      const h=document.getElementById("heightInput").value;
      document.getElementById("preview").style.height=h+"px";
    }

    function downloadFile(type){
      const code=document.getElementById("htmlInput").value;
      let blob,fileName;
      if(type==="html"){blob=new Blob([code],{type:"text/html"});fileName="code.html";}
      else{blob=new Blob([code],{type:"text/plain"});fileName="code.txt";}
      const a=document.createElement("a");
      a.href=URL.createObjectURL(blob);a.download=fileName;a.click();
    }
  </script>
</body>
</html>
